var date_regex=/^(Today|Yesterday|([0-2]?[0-9]|3[01])\/(0?[1-9]|1[0-2])\/\d{4})$/;function editChatBtn(e){switch($chatUsername=$("#chat-box"+e).find(".chat-username").data("val"),$chatStatusLayout=$("#chat-box"+e).find(".messageStatusLayoutHidden").val(),$chatProfileImage=$("#chat-box"+e).find(".profileImageHidden").val(),$chatPin=$("#chat-box"+e).find(".pinChatHidden").val(),$chatGroup=$("#chat-box"+e).find(".grpChatHidden").val(),$chatGroupUsername=1==$chatGroup||"true"==$chatGroup?$("#chat-box"+e).find(".grp-chat-username").data("val"):"",$chatMessageType=$("#chat-box"+e).find(".chatMessageTypeHidden").val(),$chatMessageText=$("#chat-box"+e).find(".msgTxt").data("val"),$chatMessageTimeFormat=$("#chat-box"+e).find(".chatMessageTimeFormatHidden").val(),$chatMessageTime=$("#chat-box"+e).find(".chatMessageTimeHidden").val(),$chatMessageDate=$("#chat-box"+e).find(".dateStringHidden").val(),$chatUnseenMessageCount=$("#chat-box"+e).find(".chatUnseenMessageCountHidden").val(),$chatMessageStatus=$("#chat-box"+e).find(".chatMessageStatusHidden").val(),$chatBoxId=$("#chat-box"+e).find(".chatIdHidden").val(),$("#user_name").val($chatUsername),$(".chat_privew_profile").attr("src",$chatProfileImage),$("#hidden-profile-image").val($chatProfileImage),$(".chat-message-input").val($chatMessageText),$(".chat-box-id").val($chatBoxId),$("#unseen_chat_msg_count").val($chatUnseenMessageCount),$("input[name='message-status-layout']").prop("checked",!1),$("#"+$chatStatusLayout).prop("checked",!0),$("input[name='message-status-input']").prop("checked",!1),$("#"+$chatMessageStatus).prop("checked",!0),$array=["deletemessage","missedvoicecall","missedvideocall","sendvoicecall","sendvideocall","receivevoicecall","receivevideocall","audio","sticker","gif","disappearing"],$arr1=["text","image","video","audio","statusreact","gif","deletemessage","contact","receivevoicecall","sendvoicecall","missedvoicecall","receivevideocall","sendvideocall","missedvideocall","location","file","disappearing","sticker"],-1!=$.inArray($chatMessageType,$array)?$("#chat-message-type").attr("readonly",""):$("#chat-message-type").removeAttr("readonly"),tempNum=$.inArray($chatMessageType,$arr1),-1!=tempNum&&$("#chat-message-type option:eq("+tempNum+")").prop("selected",!0),$chatMessageTimeFormat){case"Today":$("#message-time-format option:eq(0)").prop("selected",!0),$("#chat_message_date,.message-time-input").hide();break;case"time":$("#message-time-format option:eq(1)").prop("selected",!0),$(".message-time-input").val($chatMessageTime),$(".message-time-input").show(),$("#chat_message_date").hide();break;case"Yesterday":$("#message-time-format option:eq(2)").prop("selected",!0),$("#chat_message_date,.message-time-input").hide();break;case"otherdate":$("#message-time-format option:eq(3)").prop("selected",!0),$("#chat_message_date").val($chatMessageDate),$("#chat_message_date").show(),$(".message-time-input").hide()}1==$chatPin||"true"==$chatPin?$("#pin_chat").prop("checked",!0):$("#pin_chat").prop("checked",!1),1==$chatGroup||"true"==$chatGroup?($("#grp_chat").prop("checked",!0),$(".grp_name_feild").show(),$("#grp_chat_username").val($chatGroupUsername)):($("#grp_chat").prop("checked",!1),$("#grp_chat_username").val(""),$(".grp_name_feild").hide()),$("body").addClass("body-fixed"),$(".error-msg").html("").hide(),$(".main-modal-div").data("mode","open").show(),$("html, body").animate({scrollTop:$(".main-modal-div").offset().top},1e3)}function deleteChatBtn(e){confirm("Are you sure want to delete this chat?")&&$("#chat-box"+e).remove()}function editText(e){$(".edit-text").show(),$(".main-input-text").hide(),$(".main-input-text,.date-info-icon").hide(),e.hide(),e.parents(".input-main-div").find(".main-input-text,.date-info-icon").show().select()}function inputKeyUp(e,a){if(13==a.which)$(".edit-text").show(),$(".main-input-text,.date-info-icon").hide();else{var t="",s=text1=e.val();if(s.length>19)if(e.hasClass("disappear-input"))t+=text1;else t+=text1.substr(0,19)+"...";else t+=text1;$nameClass=e.data("class"),console.log($nameClass),"date"==$nameClass.replace(/[0-9]/g,"")?""!=s&&s.match(date_regex)&&($("."+$nameClass+"-text").text(s),$("."+$nameClass+"-input").val(s),idate="Today"!=s&&"Yesterday"!=s?getIdate(new Date(s)):s,$(".iphone-"+$nameClass+"-text").text(idate),$(".iphone-"+$nameClass+"-input").val(idate)):($("."+$nameClass+"-text").text(t),$("."+$nameClass+"-input").val(t))}}$(document).ready((function(){$('[data-toggle="tooltip"]').tooltip();var e=$("#js_data").data("base_url");function a(e){(e=$("#Battery_percent").val())>100&&(e=100),e<0&&(e=0),$("#Battery_percent").val(e),$(".battery-level").removeClass("red"),e<=15&&$(".battery-level").addClass("red"),$(".battery-level").css("width",e+"%"),$("input#iphone_wp").is(":checked")?$(".battery-status").text(e):$(".battery-status").text(e+"%")}$("input[type=radio][name=wp_chat_visibleforLayout]").change((function(){"android"==this.value?(jQuery(".android-header.white-content,.whatapp-android-footer,.wp-android,.txtAndroid").show(),jQuery(".wp-ios,.whatapp-ios-footer,.txtIphone").hide(),jQuery(".main-footer").removeClass("iphone-ft"),jQuery(".chat-timer-wrap").removeClass("chat-timer-ios"),jQuery(".whatsapp-body").removeClass("whatsapp-body-ios"),jQuery("#battery_options option:eq(2),#battery_options option:eq(1)").show(),$(".battery-status").text($("#Battery_percent").val()+"%")):"iphone"==this.value&&(jQuery(".whatapp-android-footer,.android-header.white-content,.txtAndroid,.wp-android").hide(),jQuery(".wp-ios,.whatapp-ios-footer,.txtIphone").show(),jQuery(".main-footer").addClass("iphone-ft"),jQuery("#battery_options option:eq(0)").prop("selected",!0),jQuery("#battery_options option:eq(2),#battery_options option:eq(1)").hide(),jQuery(".whatsapp-body").addClass("whatsapp-body-ios"),jQuery(".chat-timer-wrap").addClass("chat-timer-ios"),$(".battery-status").text($("#Battery_percent").val()))})),$("#visibleHeader").click((function(){$("input#visibleHeader").is(":checked")?($(".android-header").hide(),$(".ios-header").hide()):($(".android-header").show(),$(".ios-header").show())})),$("#visiblefooter").click((function(){$("input#visiblefooter").is(":checked")?$(".all_footer_wp").hide():$(".all_footer_wp").show()})),$("#dark_theme").change((function(){$(this).prop("checked")?(jQuery(".wa-theme").addClass("dark-theme"),$(".msg-arrow-left").css("fill","#202c33"),$(".msg-arrow-right").css("fill","#005c4b")):(jQuery(".wa-theme").removeClass("dark-theme"),$(".msg-arrow-left").css("fill","#ffffff"),$(".msg-arrow-right").css("fill","#e6ffda"))})),$("#networ_speed").change((function(){$(".show-network").removeClass("n5g n4g n3g n2g nwifi"),$(".show-network").addClass($(this).val())})),$("input[name=whatsapp-time]").change((function(){if($(this).prop("checked")){var e=onTimeChangein24($("#edit-2-Clock").val());$(".chat-msg-time").each((function(e,a){$(this).text(onTimeChangein24($(this).data("time")))}))}else{e=onTimeChange($("#edit-2-Clock").val());$(".chat-msg-time").each((function(e,a){$(this).text(onTimeChange($(this).data("time")))}))}$(".status-time").text(e)})),$("#edit-2-Clock").keyup((function(){var e=$("#time-format").prop("checked")?onTimeChangein24($(this).val()):onTimeChange($(this).val());$(".status-time").text(e)})),$("#edit-2-Clock").change((function(){var e=$("#time-format").prop("checked")?onTimeChangein24($(this).val()):onTimeChange($(this).val());$(".status-time").text(e)})),$("#battery_options").change((function(){$(".battery-container").removeClass("battery-horizontal battery-vertical-one battery-vertical-two"),$(".battery-container").addClass($(this).val())})),$("#Battery_percent").keyup((function(){a()})),$("#Battery_percent").change((function(){a()})),$("#bt_per").click((function(){$(this).is(":checked")?$(".battery-container").removeClass("hide-percentage"):$(".battery-container").addClass("hide-percentage")})),$("#wh_sim").click((function(){$("input#wh_sim").is(":checked")?($(".network-two").removeClass("hide"),$(".phone-network").addClass("sim2")):($(".network-two").addClass("hide"),$(".phone-network").removeClass("sim2"))})),$("#unseenStatus").click((function(){$(this).is(":checked")?$(".unseenStatusAvailable").addClass("updates-available"):$(".unseenStatusAvailable").removeClass("updates-available")})),$("#total_msg_num").on("keyup change",(function(){$total_msg_num=parseInt($(this).val().trim()),""!=$total_msg_num&&$total_msg_num>0?($(".total-msg").show(),$(".totalNumOfMsg").show().text($total_msg_num)):($(".total-msg").hide(),$(".totalNumOfMsg").hide().text(0))})),$("#total_missed_calls").on("keyup change",(function(){$total_missed_calls=parseInt($(this).val().trim()),""!=$total_missed_calls&&$total_missed_calls>0?($(".total-calls").show(),$(".totalNumOfMissedCalls").show().text($total_missed_calls)):($(".total-calls").hide(),$(".totalNumOfMissedCalls").hide().text(0))})),$(".add-message-input-btn").click((function(){"close"==$(".main-modal-div").data("mode")&&($("body").addClass("body-fixed"),$(".username,.message-input,.chat-message-input,.postprofileimg,.chat-box-id,.hidden-profile-image").val("").removeClass("error"),$(".hidden-profile-image").val(e+"/assets/images/profile.jpg"),$(".chat_privew_profile").attr("src",e+"/assets/images/addimgbg.jpg"),$('input[name="message-send-type"],input[name="statusLayout"],#grp_chat,#pin_chat').prop("checked",!1),$(".grp_name_feild,#chat_message_date,.message-time-input").hide(),$(".chat-message-input,.message-status-main-div").show(),$("#unseen_chat_msg_count").val(0),$("#chat-message-type option:eq(0), #message-time-format option:eq(0)").prop("selected",!0),$("#sent,#unseenstatus").prop("checked",!0),$(".error-msg").hide(),$(".main-modal-div").data("mode","open").show(),$(".message-input").select(),$("html, body").animate({scrollTop:$("#mainbodydiv").offset().top},500))})),$(".close-btn").click((function(){$("body").removeClass("body-fixed"),$(".main-modal-div").data("mode","close").hide()})),$("#postprofileimg").on("change",(function(a){a.stopPropagation();var t=this.files[0];if(t){var s=new FileReader;s.onload=function(e){$(".chat_privew_profile").attr("src",e.target.result),$(".hidden-profile-image").val(e.target.result)},s.readAsDataURL(t),a.target.value=""}else $(".chat_privew_profile").attr("src",e+"assets/images/iphone_msg_user_icon.png"),$(".hidden-profile-image").val(e+"assets/images/iphone_msg_user_icon.png")})),$("#grp_chat").click((function(){$(this).is(":checked")?$(".grp_name_feild").show():$(".grp_name_feild").hide()})),$("#message-time-format").change((function(){$(".message-time-input,.message-date-input").hide(),"time"==$(this).val()?$(".message-time-input").show():"otherdate"==$(this).val()&&$(".message-date-input").show()})),$("#unseen_chat_msg_count").change((function(){$(this).val()>0&&$("#none").prop("checked",!0)})),$("input[name='message-status-input']").change((function(){"none"!=$(this).val()&&$("#unseen_chat_msg_count").val(0)}));var t="";function s(e,a=20,t=""){var s=remvoeBadWord(e),i=t.length;return s.length+i>a-i?s.substr(0,a-i-2)+"...":s}$(".chat-message-type").change((function(){$array=["deletemessage","missedvoicecall","missedvideocall","sendvoicecall","sendvideocall","receivevoicecall","receivevideocall","audio","sticker","gif","disappearing"];var e=$(this).val();if(-1!=$.inArray(e,$array)){switch($(".chat-message-input").attr("readonly",""),e){case"missedvoicecall":$(".chat-message-input").val("Missed voice call");break;case"missedvideocall":$(".chat-message-input").val("Missed video call");break;case"sendvoicecall":case"receivevoicecall":$(".chat-message-input").val("Voice call");break;case"sendvideocall":case"receivevideocall":$(".chat-message-input").val("Video call");break;case"audio":$(".chat-message-input").val("Audio");break;case"sticker":$(".chat-message-input").val("Sticker");break;case"gif":$(".chat-message-input").val("GIF");break;case"disappearing":$(".chat-message-input").val("iphone"==$("input[name=wp_chat_visibleforLayout]:checked").val()?$("#user_name").val()+" uses a default timer for disappearing message in new chats.  New messages will disappear from this chat 24 hours after they're sent, except when kept. Tap to set your own default timer.":"The message timer was updated. New messages will disappear from this chat 24 hours after they're sent, except when kept. tap to change."),$(".chat-message-input").removeAttr("readonly");break;default:$(".chat-message-input").val("This message was deleted")}t=e}else $(".chat-message-input").removeAttr("readonly"),-1!=$.inArray(t,$array)&&$(".chat-message-input").val(""),t=""})),$("#user_name").on("keyup change",(function(){"disappearing"==$(".chat-message-type").val()&&"iphone"==$("input[name=wp_chat_visibleforLayout]:checked").val()&&$(".chat-message-input").val($("#user_name").val()+" uses a default timer for disappearing message in new chats.  New messages will disappear from this chat 24 hours after they're sent, except when kept. Tap to set your own default timer.")})),$("#send-msg-btn").click((function(){var a=$("#user_name").val(),t=$("input[name='message-status-layout']:checked").val(),i=$(".hidden-profile-image").val(),n=!!$("#pin_chat").is(":checked"),c=!!$("#grp_chat").is(":checked"),o=$(".grp_chat_username").val(),r=$(".chat-message-type").val(),d=$(".chat-message-input").val(),l=$(".message-time-format").val(),m=$(".message-time-input").val(),h=$("input[name='message-status-input']:checked").val(),p=$("#unseen_chat_msg_count").val(),u=$(".chat-box-id").val(),g=$(".message-date-input").val(),v=$("input[name=wp_chat_visibleforLayout]:checked").val();if("otherdate"==l){var _=g.split("-"),f=parseInt(_[0]),y=parseInt(_[1]),b=parseInt(_[2]);$chatMessageDate=b+"/"+y+"/"+f}else $chatMessageDate="time"==l?$("#time-format").prop("checked")?onTimeChangein24($(".message-time-input").val()):onTimeChange($(".message-time-input").val()):"none"==l?"":l;if($flag=0,""==a.trim()?($(".username").addClass("error"),$flag++):$(".username").removeClass("error"),""==i.trim()?($(".chat_privew_profile").parents("label").addClass("error"),$flag++):$(".chat_privew_profile").parents("label").removeClass("error"),"time"==l&&""==m.trim()?($(".message-time-input").addClass("error"),$flag++):$(".message-time-input").removeClass("error"),"otherdate"==l&&""!=$chatMessageDate&&($chatMessageDate.match(date_regex)?($chatMessageDate=$chatMessageDate,$(".message-date-input").removeClass("error"),$(".error-msg").html("").hide()):"otherdate"==l&&($chatMessageDate="",$(".error-msg").html('<ul><li>The date format should be like this: ("26 November 2003")</li><li>Make sure the first letters of "Today," "Yesterday," and "Month Name" are capitalized.</li></ul>').show(),$(".message-date-input").addClass("error"),$flag++)),0==$flag){$replyHtml="",$data={chat_box_id:u,chat_username:a,chat_status_layout:t,chat_profile_image:i,chat_pin:n,chat_group:c,chat_group_username:o,chat_message_type:r,chat_message_text:d,chat_message_time_format:l,chat_message_time:m,chat_message_date:$chatMessageDate,chat_message_status:h,chat_unseen_message_count:p,dateString:g,visible_for_layout:v,reply_html:$replyHtml};var C=function(e){$base_url=$("#js_data").data("base-url"),$num=Number($(".chat-box-num").val())+1,$test=$userTCls="",$("#dark_theme").prop("checked")?($lcls="#202c33",$rcls="#005c4b"):($lcls="#ffffff",$rcls="#e6ffda");var a=1==e.chat_group?"chat-group":"",t="",i=e.chat_message_type;switch(e.chat_message_type){case"disappearing":a+=" msg-timer",t='<div class="timer-icon"><div class="common-img"></div></div>';break;case"receivevideocall":i="receive-vcall";break;case"sendvideocall":i="send-vcall";break;case"missedvideocall":i="missed-vcall";break;case"receivevoicecall":i="receive-voice";break;case"sendvoicecall":i="send-voice";break;case"missedvoicecall":i="missed-voice";break;case"statusreact":i="react";break;case"deletemessage":i="delete-msg"}var n="",c='style="fill: #8696a0;"';"sending"==e.chat_message_status&&(n='<div class="message-status msg-status" data-status="sending"><svg viewBox="0 0 16 15" height="15" width="16" preserveAspectRatio="xMidYMid meet" '+c+' version="1.1" x="0px" y="0px" enable-background="new 0 0 16 15" xml:space="preserve"><path d="M9.75,7.713H8.244V5.359c0-0.276-0.224-0.5-0.5-0.5H7.65c-0.276,0-0.5,0.224-0.5,0.5v2.947 c0,0.276,0.224,0.5,0.5,0.5h0.094c0.001,0,0.002-0.001,0.003-0.001S7.749,8.807,7.75,8.807h2c0.276,0,0.5-0.224,0.5-0.5V8.213 C10.25,7.937,10.026,7.713,9.75,7.713z M9.75,2.45h-3.5c-1.82,0-3.3,1.48-3.3,3.3v3.5c0,1.82,1.48,3.3,3.3,3.3h3.5 c1.82,0,3.3-1.48,3.3-3.3v-3.5C13.05,3.93,11.57,2.45,9.75,2.45z M11.75,9.25c0,1.105-0.895,2-2,2h-3.5c-1.104,0-2-0.895-2-2v-3.5 c0-1.104,0.896-2,2-2h3.5c1.105,0,2,0.896,2,2V9.25z"></path></svg></div>');"sent"==e.chat_message_status&&(n='<div class="message-status msg-status" data-status="sent"><svg viewBox="0 0 12 11" height="11" width="12" preserveAspectRatio="xMidYMid meet" '+c+'><path d="M11.1549 0.652832C11.0745 0.585124 10.9729 0.55127 10.8502 0.55127C10.7021 0.55127 10.5751 0.610514 10.4693 0.729004L4.28038 8.36523L1.87461 6.09277C1.8323 6.04622 1.78151 6.01025 1.72227 5.98486C1.66303 5.95947 1.60166 5.94678 1.53819 5.94678C1.407 5.94678 1.29275 5.99544 1.19541 6.09277L0.884379 6.40381C0.79128 6.49268 0.744731 6.60482 0.744731 6.74023C0.744731 6.87565 0.79128 6.98991 0.884379 7.08301L3.88047 10.0791C4.02859 10.2145 4.19574 10.2822 4.38194 10.2822C4.48773 10.2822 4.58929 10.259 4.68663 10.2124C4.78396 10.1659 4.86436 10.1003 4.92784 10.0156L11.5738 1.59863C11.6458 1.5013 11.6817 1.40186 11.6817 1.30029C11.6817 1.14372 11.6183 1.01888 11.4913 0.925781L11.1549 0.652832Z"></path></svg></div>');"delivere"==e.chat_message_status&&(n='<div class="message-status msg-status" data-status="delivere"><svg viewBox="0 0 16 11" height="11" width="16" preserveAspectRatio="xMidYMid meet"'+c+'><path d="M11.0714 0.652832C10.991 0.585124 10.8894 0.55127 10.7667 0.55127C10.6186 0.55127 10.4916 0.610514 10.3858 0.729004L4.19688 8.36523L1.79112 6.09277C1.7488 6.04622 1.69802 6.01025 1.63877 5.98486C1.57953 5.95947 1.51817 5.94678 1.45469 5.94678C1.32351 5.94678 1.20925 5.99544 1.11192 6.09277L0.800883 6.40381C0.707784 6.49268 0.661235 6.60482 0.661235 6.74023C0.661235 6.87565 0.707784 6.98991 0.800883 7.08301L3.79698 10.0791C3.94509 10.2145 4.11224 10.2822 4.29844 10.2822C4.40424 10.2822 4.5058 10.259 4.60313 10.2124C4.70046 10.1659 4.78086 10.1003 4.84434 10.0156L11.4903 1.59863C11.5623 1.5013 11.5982 1.40186 11.5982 1.30029C11.5982 1.14372 11.5348 1.01888 11.4078 0.925781L11.0714 0.652832ZM8.6212 8.32715C8.43077 8.20866 8.2488 8.09017 8.0753 7.97168C7.99489 7.89128 7.8891 7.85107 7.75791 7.85107C7.6098 7.85107 7.4892 7.90397 7.3961 8.00977L7.10411 8.33984C7.01947 8.43717 6.97715 8.54508 6.97715 8.66357C6.97715 8.79476 7.0237 8.90902 7.1168 9.00635L8.1959 10.0791C8.33132 10.2145 8.49636 10.2822 8.69102 10.2822C8.79681 10.2822 8.89838 10.259 8.99571 10.2124C9.09304 10.1659 9.17556 10.1003 9.24327 10.0156L15.8639 1.62402C15.9358 1.53939 15.9718 1.43994 15.9718 1.32568C15.9718 1.1818 15.9125 1.05697 15.794 0.951172L15.4386 0.678223C15.3582 0.610514 15.2587 0.57666 15.1402 0.57666C14.9964 0.57666 14.8715 0.635905 14.7657 0.754395L8.6212 8.32715Z"></path></svg></div>');"read"==e.chat_message_status&&(n='<div class="message-status msg-status" data-status="read"><svg viewBox="0 0 16 11" height="11" width="16" preserveAspectRatio="xMidYMid meet" style="fill: #53bdeb;"><path d="M11.0714 0.652832C10.991 0.585124 10.8894 0.55127 10.7667 0.55127C10.6186 0.55127 10.4916 0.610514 10.3858 0.729004L4.19688 8.36523L1.79112 6.09277C1.7488 6.04622 1.69802 6.01025 1.63877 5.98486C1.57953 5.95947 1.51817 5.94678 1.45469 5.94678C1.32351 5.94678 1.20925 5.99544 1.11192 6.09277L0.800883 6.40381C0.707784 6.49268 0.661235 6.60482 0.661235 6.74023C0.661235 6.87565 0.707784 6.98991 0.800883 7.08301L3.79698 10.0791C3.94509 10.2145 4.11224 10.2822 4.29844 10.2822C4.40424 10.2822 4.5058 10.259 4.60313 10.2124C4.70046 10.1659 4.78086 10.1003 4.84434 10.0156L11.4903 1.59863C11.5623 1.5013 11.5982 1.40186 11.5982 1.30029C11.5982 1.14372 11.5348 1.01888 11.4078 0.925781L11.0714 0.652832ZM8.6212 8.32715C8.43077 8.20866 8.2488 8.09017 8.0753 7.97168C7.99489 7.89128 7.8891 7.85107 7.75791 7.85107C7.6098 7.85107 7.4892 7.90397 7.3961 8.00977L7.10411 8.33984C7.01947 8.43717 6.97715 8.54508 6.97715 8.66357C6.97715 8.79476 7.0237 8.90902 7.1168 9.00635L8.1959 10.0791C8.33132 10.2145 8.49636 10.2822 8.69102 10.2822C8.79681 10.2822 8.89838 10.259 8.99571 10.2124C9.09304 10.1659 9.17556 10.1003 9.24327 10.0156L15.8639 1.62402C15.9358 1.53939 15.9718 1.43994 15.9718 1.32568C15.9718 1.1818 15.9125 1.05697 15.794 0.951172L15.4386 0.678223C15.3582 0.610514 15.2587 0.57666 15.1402 0.57666C14.9964 0.57666 14.8715 0.635905 14.7657 0.754395L8.6212 8.32715Z"></path></svg></div>');if("unseenstatus"==e.chat_status_layout)var o="status-unseen";else if("seenstatus"==e.chat_status_layout)o="status-seen";else o="";var r="";""==e.chat_box_id?($unseen_class=""!=e.chat_unseen_message_count&&e.chat_unseen_message_count>0?"unseen-msg":"",r+='<div class="chat is-not message-box chat-box '+$unseen_class+" "+a+" "+$userTCls+'" id="chat-box'+$num+'">',$(".chat-box-num").val($num)):($num=e.chat_box_id,"disappearing"!=e.chat_message_type?$("#chat-box"+$num).removeClass("msg-timer"):$("#chat-box"+$num).addClass("msg-timer"),""==e.chat_unseen_message_count||e.chat_unseen_message_count<=0?$("#chat-box"+$num).removeClass("unseen-msg"):$("#chat-box"+$num).addClass("unseen-msg"));$msgTimeAttr="time"==e.chat_message_time_format?'class="chat-msg-time"  data-time="'+e.chat_message_time+'"':"",$msgGroupUsername=1==e.chat_group&&""!=e.chat_group_username?'<div class="member-name"><p class="grp-chat-username" data-val="'+e.chat_group_username+'">'+e.chat_group_username+":</p></div>":"",$msgIcons=""!=i?'<span class="'+i+'-icon common-img"></span>':"",$chatPinHtml=1==e.chat_pin?'<div class="common-img pin-chat"></div>':"",$unseenMsgHtml=""!=e.chat_unseen_message_count&&e.chat_unseen_message_count>0?'<div class="unseen"><p>'+e.chat_unseen_message_count+"</p></div>":"","android"==e.visible_for_layout?(textVisibilityAndroid='style="display: inline;"',textVisibilityIphone='style="display: none;"'):"iphone"==e.visible_for_layout&&(textVisibilityAndroid='style="display: none;"',textVisibilityIphone='style="display: inline;"');r+='<div class="edit-delete"><button class="edit-msg btn-remove darg-icon"><i class="fa fa-arrows" aria-hidden="true"></i></button><button class="delete-btn btn-remove" onclick="deleteChatBtn('+$num+');" data-num="'+$num+'"><i class="fa fa-trash"></i></button><button class="edit-msg btn-remove" onclick="editChatBtn('+$num+');" data-num="'+$num+'"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></button></div><div class="main-msg-sec status-layout '+o+'" data-val="'+o+'"><input type="hidden" value="'+$num+'" class="chatIdHidden"><div class="chat-profile"><div class="chat-profile-img" style="background-image: url('+e.chat_profile_image+')"></div><input type="hidden" value="'+e.chat_profile_image+'" class="profileImageHidden">'+t+'</div><div class="msg-detail"><input type="hidden" value="'+e.chat_status_layout+'" class="messageStatusLayoutHidden"><input type="hidden" value="'+e.chat_pin+'" class="pinChatHidden"><div class="profile-user"><div class="user-name"><p class="chat-username txtAndroid" data-val="'+e.chat_username+'">'+s(e.chat_username,25)+'</p><p class="chat-username txtIphone" data-val="'+e.chat_username+'">'+s(e.chat_username,21)+'</p><input type="hidden" value="'+e.chat_group+'" class="grpChatHidden"><input type="hidden" value="'+e.chat_message_type+'" class="chatMessageTypeHidden"></div><div class="msg-time chat-msgTime" data-val="'+e.chat_message_date+'"><p '+$msgTimeAttr+">"+e.chat_message_date+'</p><input type="hidden" value="'+e.chat_message_time+'" class="chatMessageTimeHidden"><input type="hidden" value="'+e.dateString+'" class="dateStringHidden"></div></div><div class="main-user-msg"><div class="main-msg">'+n+$msgGroupUsername+'<p class="user-msg msgTxt" data-val="'+e.chat_message_text+'"> '+$msgIcons+'<span class="txtAndroid" '+textVisibilityAndroid+">"+s(e.chat_message_text,30,e.chat_group_username)+'</span><span class="txtIphone" '+textVisibilityIphone+">"+s(e.chat_message_text,58,e.chat_group_username)+'</span></p><input type="hidden" value="'+e.chat_unseen_message_count+'" class="chatUnseenMessageCountHidden"><input type="hidden" value="'+e.chat_message_time_format+'" class="chatMessageTimeFormatHidden"></div><div class="pin-msg-count-box">'+$chatPinHtml+$unseenMsgHtml+'</div><input type="hidden" value="'+e.chat_message_status+'" class="chatMessageStatusHidden"></div></div></div>',""==e.chat_box_id&&(r+="</div>");return $test=""!=e.reply_html?e.reply_html+r:r,$test}($data),w=$(C).hide();""==u?($("#chatlistbox").prepend(w),$("#chatlistbox .username-text").removeClass("username-text"),$(".whatsapp-body .remove").length>0?$(".whatsapp-body .remove").fadeTo(250,0,(function(){$(".whatsapp-body .remove").remove(),w.fadeIn(500)})):w.fadeIn(500)):($("#chat-box"+u).html(w),w.fadeIn(500)),$(".username,.message-input,.chat-message-input,.postprofileimg,.chat-box-id").val(""),$(".chat_privew_profile").attr("src",e+"/assets/images/addimgbg.jpg"),$('input[name="message-send-type"],input[name="statusLayout"],#grp_chat,#pin_chat').prop("checked",!1),$(".grp_name_feild,#chat_message_date").hide(),$(".chat-message-input").show(),$("#unseen_chat_msg_count").val(0),$("#chat-message-type option:eq(0), #message-time-format option:eq(0)").prop("selected",!0),$("#sent,#unseenstatus").prop("checked",!0),$(".close-btn").click()}return!1}))})),$("#preview").click((function(){$("body").addClass("body-fixed"),$(this).attr("disabled","disabled"),$html=$("#download").html().replace(/\onclick/g,"data-onclick"),$html=$html.replace(/\data-target/g,"data-t"),$("#preview-modal-content").html($html),jQuery("#preview-modal .fa.fa-pencil,#preview-modal .fa.fa-cloud-upload,#preview-modal .fa.fa-times-circle,#preview-modal .btn-remove").remove(),$("#preview-modal").show(),jQuery("#preview-modal .all_footer_wp").removeAttr("data-target")})),$(".close-preview").click((function(){$("#preview-modal").hide(),$("body").removeClass("body-fixed"),$("#preview").removeAttr("disabled"),$("#preview-modal-content").html("")})),$("#btn-reset-chat").click((function(){confirm("Are you sure you want to reset the chat list? Chat list will disappear forever.")&&location.reload()})),$(".edit-text").on("click",(function(e){editText($(this))})),$(document).click((function(e){$(e.target).is(".input-main-div,.input-main-div *")||($(".edit-text").show(),$(".main-input-text,.date-info-icon").hide(),$(".main-input-text").on("keyup change",(function(e){$(this).val(remvoeBadWord($(this).val())),inputKeyUp($(this),e)})))})),$(".main-input-text").on("keyup change",(function(e){$(this).val(remvoeBadWord($(this).val())),inputKeyUp($(this),e)}));
//