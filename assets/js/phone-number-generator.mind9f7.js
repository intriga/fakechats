$(".dropdown-link").on("click",function(){var e=$(this).data("val"),t=$(this).data("code");$("#prefix").val(t),$("#country").val(e),$(".dropdown-link").removeClass("selected unvisible select").addClass("visible").show(),$(this).addClass("selected"),$(".btn-dropdown").html($(this).html()),$(".dropdown .dropdown-content").hide(),$("#countrySearch").val("")}),$(".btn-dropdown").on("click",function(){$(this).parents(".dropdown").find(".dropdown-content").toggle()}),$(document).click(function(e){0==$(e.target).parents(".dropdown").length&&$(".dropdown .dropdown-content").hide()}),$(document).on("change",'input[name="country_code"]',function(){"yes"==this.value?$(".prefix-sec").removeClass("hide"):$(".prefix-sec").addClass("hide")}),$("#prefix").on("change keyup",function(){$(this).length>3?$(this).val($(this).val().substring(0,3)):$(this).val($(this).val())}),$("#countrySearch").on("change keyup",function(e){e.preventDefault();var t=this.value.toLowerCase();$(".dropdown-link").filter(function(){$(this).toggle($(this).text().toLowerCase().indexOf(t)>-1),$(this).text().toLowerCase().indexOf(t)>-1==1?$(this).removeClass("unvisible").addClass("visible"):$(this).removeClass("visible").addClass("unvisible")});let n=$(".dropdown-link.visible"),a=n.filter(".select");if(38===e.keyCode)if(0===a.length)n.last().addClass("select");else{let e=n.index(a);a.removeClass("select"),e>0?n.eq(e-1).addClass("select"):n.last().addClass("select")}if(40===e.keyCode)if(0===a.length)n.first().addClass("select");else{let e=n.index(a);a.removeClass("select"),e<n.length-1?n.eq(e+1).addClass("select"):n.first().addClass("select")}13==e.keyCode&&(e.preventDefault(),$(".dropdown-link.visible.select").click())}),$("#phLengthMax").on("change keyup",function(){var e=$(this);setTimeout(()=>{var t=e.val();t>15&&e.val(15),t<5&&""!=t&&0!=t&&e.val(5)},1500)}),$("#numberCount").on("change keyup",function(){var e=$(this).val();e>100&&$(this).val(100),e<1&&$(this).val(1)}),$("#main-form-submit").on("click",function(e){e.preventDefault(),$(this).addClass("disabled").attr("disabled",!0);var t=$("#js_data").data("base_url"),n={country:$("#country").val(),prefix:$("#prefix").val(),country_code:$('input[name="country_code"]:checked').val(),phLengthMax:$("#phLengthMax").val(),numberCount:$("#numberCount").val()};return $.ajax({url:t+"assets/ajax/fake-phone-number.php",type:"POST",dataType:"json",data:n,success:function(e){var t="yes"!=$('input[name="country_code"]:checked').val()?"hide":"",n="";$.each(e,function(e,a){n+='<div class="number-box"><div class="check-number"><input type="checkbox" name="result_number" class="select-checkbox" data-code="+'+a.prefix+'" value="'+a.number+'"><p><span class="prefix-sec '+t+'">+'+a.prefix+"</span> "+a.number+'</p></div><span class="number-copy-btn" data-code="+'+a.prefix+'" data-number="'+a.number+'" tooltip="Click To Copy" tooltip-position="top"><i class="fa fa-clone" aria-hidden="true"></i></span></div>'}),$("#result-area").html(n),$("#main-result-section, .btn-download").removeClass("hide"),$("#main-form-submit").removeClass("disabled").attr("disabled",!1)},error:function(e,t,n){console.log(e,t,n),$("#main-form-submit").removeClass("disabled").attr("disabled",!1)}}),!1}),$(document).on("change keyup",".select-checkbox",function(){var e=$(".select-checkbox:checked").length;$(".select-checkbox").length==e?$("#selectall").prop("checked",!0):$("#selectall").prop("checked",!1),$(".select-checkbox").parents(".number-box").removeClass("active"),$(".select-checkbox:checked").parents(".number-box").addClass("active")}),$(document).on("click","#selectall",function(){$(".select-checkbox").prop("checked",this.checked),$(".select-checkbox").parents(".number-box").removeClass("active"),$(".select-checkbox:checked").parents(".number-box").addClass("active")}),$(document).on("click",".number-copy-btn",function(){var e=$(this).data("number"),t=$(this).data("code"),n="yes"==$('input[name="country_code"]:checked').val()?t+" "+e:e,a=document.createElement("textarea");a.value=n,document.body.appendChild(a),a.select(),document.execCommand("Copy"),a.remove(),$(this).attr("tooltip","Copied")}),$(document).on("mouseleave",".number-copy-btn",function(e){$(this).attr("tooltip","Click To Copy")}),$(document).on("click",".download_txt_file",function(){var e=$('input[name="country_code"]:checked').val(),t="";let n=$("#result-area .select-checkbox:checked");0==n.length?alert("Please select at least one number"):(n.each(function(){var n=$(this).val(),a=$(this).data("code");t+=("yes"==e?a+" "+n:n)+"\n"}),download(t,"fake_phone_number.txt","text/plain"))}),$('[data-toggle="tooltip"]').tooltip();
// 